<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CC Checker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .result-box {
            height: 600px;
            overflow-y: scroll;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }

        /* Scrollbar Styling */
        .result-box::-webkit-scrollbar {
            width: 10px;
        }

        .result-box::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .result-box::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }

        .result-box::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        .success { 
            color: #28a745;
            padding: 8px;
            margin: 5px 0;
            border-left: 3px solid #28a745;
            background: #f8fff9;
        }

        .error { 
            color: #dc3545;
            padding: 8px;
            margin: 5px 0;
            border-left: 3px solid #dc3545;
            background: #fff8f8;
        }

        .card {
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .card-header {
            background: #343a40;
            color: white;
            font-weight: bold;
        }

        textarea.form-control {
            border: 1px solid #ddd;
            font-family: monospace;
            resize: vertical;
            min-height: 150px;
        }

        textarea.form-control:focus {
            border-color: #80bdff;
            box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);
        }

        .btn {
            margin-right: 10px;
            font-weight: 500;
            padding: 8px 20px;
        }

        .container {
            max-width: 1200px;
            padding: 0 15px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 10px;
            }
            
            .row {
                flex-direction: column;
            }

            .col-md-6 {
                width: 100%;
            }

            .result-box {
                height: 400px;
                margin-top: 20px;
            }

            .btn {
                width: 100%;
                margin-bottom: 10px;
                margin-right: 0;
            }

            .card {
                margin-bottom: 15px;
            }
        }

        @media (max-width: 576px) {
            .container {
                padding: 0 5px;
            }

            h2 {
                font-size: 1.5rem;
            }

            .card-header {
                padding: 10px;
            }

            .card-body {
                padding: 15px;
            }
        }
    </style>
</head>
<body class="bg-light">
    <div class="container mt-5">
        <h2 class="mb-4 text-center">Credit Card Checker</h2>
        <div class="row">
            <div class="col-md-6">
                <div class="card mb-3">
                    <div class="card-header">
                        Input Cards
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label for="ccList" class="form-label">Enter CC List (format: number|mm|yy|cvv)</label>
                            <textarea class="form-control" id="ccList" rows="10" placeholder="4242424242424242|12|25|123"></textarea>
                        </div>
                        <div class="card mb-3">
                            <div class="card-header">
                                Telegram Bot Settings
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <label for="botToken" class="form-label">Bot Token</label>
                                    <input type="text" class="form-control" id="botToken" placeholder="Enter your bot token">
                                </div>
                                <div class="mb-3">
                                    <label for="chatId" class="form-label">Chat ID</label>
                                    <input type="text" class="form-control" id="chatId" placeholder="Enter chat ID">
                                </div>
                            </div>
                        </div>
                        <div class="d-grid gap-2 d-md-flex">
                            <button class="btn btn-primary flex-fill" onclick="checkCards()">Check Cards</button>
                            <button class="btn btn-secondary flex-fill" onclick="clearResults()">Clear Results</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        Results
                    </div>
                    <div class="card-body p-0">
                        <div class="result-box" id="results">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        async function checkCards() {
            const ccList = document.getElementById('ccList').value;
            const botToken = document.getElementById('botToken').value;
            const chatId = document.getElementById('chatId').value;
            const cards = ccList.split('\n');
            const resultsDiv = document.getElementById('results');

            for (const card of cards) {
                if (!card.trim()) continue;

                const [number, month, year, cvc] = card.trim().split('|');
                try {
                    const response = await fetch('check_card.php', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            number: number,
                            exp_month: month,
                            exp_year: year,
                            cvc: cvc,
                            botToken: botToken,
                            chatId: chatId
                        })
                    });

                    const data = await response.json();
                    const message = data.donately_response?.message || data.message || 'Unknown error';
                    const status = message.toLowerCase().includes('declined') ? 'error' : 'success';

                    const resultElement = document.createElement('div');
                    resultElement.className = status;
                    resultElement.textContent = `${number} - ${message}`;
                    resultsDiv.appendChild(resultElement);
                    resultsDiv.scrollTop = resultsDiv.scrollHeight;

                    // Add delay between checks
                    await new Promise(resolve => setTimeout(resolve, 3000));

                } catch (error) {
                    const resultElement = document.createElement('div');
                    resultElement.className = 'error';
                    resultElement.textContent = `${number} - Error processing card`;
                    resultsDiv.appendChild(resultElement);
                    resultsDiv.scrollTop = resultsDiv.scrollHeight;
                }
            }
        }

        function clearResults() {
            document.getElementById('results').innerHTML = '';
            document.getElementById('ccList').value = '';
        }
    </script>
</body>
</html>